// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`sql queries from period should return array with 3 queries (30m, 5m, 1m) 1`] = `" UNION select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2019-03-25 03:00:00.000' and \\"time_start\\" <= '2019-03-25 03:30:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 1800 limit 1 UNION select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2019-03-25 03:30:00.000' and \\"time_start\\" <= '2019-03-25 03:35:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 300 limit 1 UNION select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2019-03-25 03:35:00.000' and \\"time_start\\" <= '2019-03-25 03:36:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1"`;

exports[`sql queries from period should return array with 5 queries 1`] = `" UNION select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2019-03-25 03:00:00.000' and \\"time_start\\" <= '2019-03-25 03:30:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 1800 limit 1 UNION select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2019-03-25 03:30:00.000' and \\"time_start\\" <= '2019-03-25 03:45:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 900 limit 1 UNION select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2019-03-25 03:45:00.000' and \\"time_start\\" <= '2019-03-25 03:46:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1 UNION select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2019-03-25 03:46:00.000' and \\"time_start\\" <= '2019-03-25 03:47:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1 UNION select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2019-03-25 03:47:00.000' and \\"time_start\\" <= '2019-03-25 03:48:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1"`;

exports[`sql query from candles should search candles for 1d 1`] = `"select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"a\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"p\\".\\"asset_id\\" as \\"price_asset_id\\", \\"addr\\".\\"address\\" as \\"matcher\\", \\"a\\".\\"decimals\\" as \\"a_dec\\", \\"p\\".\\"decimals\\" as \\"p_dec\\" from (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-03 03:00:00.000' and \\"time_start\\" <= '2017-04-04 02:59:59.999' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 86400 union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-03 03:00:00.000' and \\"time_start\\" <= '2017-04-03 15:00:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 43200 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-03 15:00:00.000' and \\"time_start\\" <= '2017-04-03 21:00:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 21600 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-03 21:00:00.000' and \\"time_start\\" <= '2017-04-04 00:00:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 10800 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 00:00:00.000' and \\"time_start\\" <= '2017-04-04 01:00:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 3600 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 01:00:00.000' and \\"time_start\\" <= '2017-04-04 02:00:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 3600 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:00:00.000' and \\"time_start\\" <= '2017-04-04 02:30:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 1800 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:30:00.000' and \\"time_start\\" <= '2017-04-04 02:45:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 900 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:45:00.000' and \\"time_start\\" <= '2017-04-04 02:50:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 300 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:50:00.000' and \\"time_start\\" <= '2017-04-04 02:55:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 300 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:55:00.000' and \\"time_start\\" <= '2017-04-04 02:56:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:56:00.000' and \\"time_start\\" <= '2017-04-04 02:57:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:57:00.000' and \\"time_start\\" <= '2017-04-04 02:58:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:58:00.000' and \\"time_start\\" <= '2017-04-04 02:59:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1)) as \\"c\\" inner join \\"assets\\" as \\"a\\" on \\"a\\".\\"uid\\" = \\"c\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"p\\" on \\"p\\".\\"uid\\" = \\"c\\".\\"price_asset_uid\\" inner join \\"addresses\\" as \\"addr\\" on \\"addr\\".\\"uid\\" = \\"c\\".\\"matcher_uid\\" order by \\"c\\".\\"time_start\\" asc"`;

exports[`sql query from candles should search candles for 1h 1`] = `"select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"a\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"p\\".\\"asset_id\\" as \\"price_asset_id\\", \\"addr\\".\\"address\\" as \\"matcher\\", \\"a\\".\\"decimals\\" as \\"a_dec\\", \\"p\\".\\"decimals\\" as \\"p_dec\\" from (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-03 03:00:00.000' and \\"time_start\\" <= '2017-04-04 02:59:59.999' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 3600 union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:00:00.000' and \\"time_start\\" <= '2017-04-04 02:30:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 1800 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:30:00.000' and \\"time_start\\" <= '2017-04-04 02:45:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 900 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:45:00.000' and \\"time_start\\" <= '2017-04-04 02:50:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 300 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:50:00.000' and \\"time_start\\" <= '2017-04-04 02:55:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 300 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:55:00.000' and \\"time_start\\" <= '2017-04-04 02:56:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:56:00.000' and \\"time_start\\" <= '2017-04-04 02:57:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:57:00.000' and \\"time_start\\" <= '2017-04-04 02:58:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1) union (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-04 02:58:00.000' and \\"time_start\\" <= '2017-04-04 02:59:00.000' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60 limit 1)) as \\"c\\" inner join \\"assets\\" as \\"a\\" on \\"a\\".\\"uid\\" = \\"c\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"p\\" on \\"p\\".\\"uid\\" = \\"c\\".\\"price_asset_uid\\" inner join \\"addresses\\" as \\"addr\\" on \\"addr\\".\\"uid\\" = \\"c\\".\\"matcher_uid\\" order by \\"c\\".\\"time_start\\" asc"`;

exports[`sql query from candles should search candles for 1m 1`] = `"select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"a\\".\\"asset_id\\" as \\"amount_asset_id\\", \\"p\\".\\"asset_id\\" as \\"price_asset_id\\", \\"addr\\".\\"address\\" as \\"matcher\\", \\"a\\".\\"decimals\\" as \\"a_dec\\", \\"p\\".\\"decimals\\" as \\"p_dec\\" from (select \\"c\\".\\"time_start\\" as \\"time_start\\", \\"c\\".\\"amount_asset_uid\\" as \\"amount_asset_uid\\", \\"c\\".\\"price_asset_uid\\" as \\"price_asset_uid\\", \\"c\\".\\"low\\" as \\"low\\", \\"c\\".\\"high\\" as \\"high\\", \\"c\\".\\"volume\\" as \\"volume\\", \\"c\\".\\"quote_volume\\" as \\"quote_volume\\", \\"c\\".\\"max_height\\" as \\"max_height\\", \\"c\\".\\"txs_count\\" as \\"txs_count\\", \\"c\\".\\"weighted_average_price\\" as \\"weighted_average_price\\", \\"c\\".\\"open\\" as \\"open\\", \\"c\\".\\"close\\" as \\"close\\", \\"c\\".\\"interval_in_secs\\" as \\"interval_in_secs\\", \\"c\\".\\"matcher_uid\\" as \\"matcher_uid\\" from \\"candles\\" as \\"c\\" where \\"amount_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '111' limit 1) and \\"price_asset_uid\\" in (select \\"uid\\" from \\"assets\\" where \\"asset_id\\" = '222' limit 1) and \\"time_start\\" >= '2017-04-03 03:00:00.000' and \\"time_start\\" <= '2017-04-04 02:59:59.999' and \\"matcher_uid\\" in (select \\"uid\\" from \\"addresses\\" where \\"address\\" = '123') and \\"interval_in_secs\\" = 60) as \\"c\\" inner join \\"assets\\" as \\"a\\" on \\"a\\".\\"uid\\" = \\"c\\".\\"amount_asset_uid\\" inner join \\"assets\\" as \\"p\\" on \\"p\\".\\"uid\\" = \\"c\\".\\"price_asset_uid\\" inner join \\"addresses\\" as \\"addr\\" on \\"addr\\".\\"uid\\" = \\"c\\".\\"matcher_uid\\" order by \\"c\\".\\"time_start\\" asc"`;
